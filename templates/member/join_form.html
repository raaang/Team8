<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>

    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">

    <title>회원가입</title>

    <style>
        * {
            font-family: 'Jua', sans-serif;
        }

        .banner {
            width: 100%;
            height: 100px;
            background-color: deepskyblue;
        }

        .join-form {
            width: 700px;
            margin: 20px auto 0px auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .wrapper {
            width: 1000px;
            margin: 20px auto 0px auto;
        }
    </style>
    <script>
        function join() {
            let id = $('#id').val()
            let name = $('#name').val()
            let birthday = $('#birthday').val()
            let pw = $('#pw').val()
            let repw = $('#repw').val()

            if (id == '') {
                alert('아이디를 입력해주세요!')
            }else if (name == '') {
                alert('이름을 입력해주세요!')
            }else if (birthday == '') {
                alert('생년월일을 입력해주세요!')
            }else if (pw == '') {
                alert('비밀번호를 입력해주세요!')
            }else if (repw == '') {
                alert('비밀번호 확인을 입력해주세요!')
            }else if (pw != repw) {
                alert('비밀번호와 비밀번호 확인이 일치하지 않습니다. 다시 입력해주세요!')
            }
            $.ajax({
                type: 'POST',
                url: '/member/join',
                data: {id_give: id, name_give: name, birthday_give: birthday, pw_give: pw},
                success: function (response) {
                    alert(response['msg'])
                    document.location.href='/'
                }
            });
        }
    </script>
</head>
<body>

    <div class="banner"></div>

    <div class="wrapper">
        <h2 align="center">회원가입</h2>
        <div class="join-form">
            <div class="mb-3">
                <label for="formGroupExampleInput" class="form-label">ID</label>
                <input type="text" class="form-control" id="id" placeholder="아이디">
            </div>
            <div class="mb-3">
                <label for="formGroupExampleInput" class="form-label">Name</label>
                <input type="text" class="form-control" id="name" placeholder="이름">
            </div>
            <div class="mb-3">
                <label for="formGroupExampleInput" class="form-label">Birthday</label>
                <input type="text" class="form-control" id="birthday" placeholder="ex) 2022.07.11">
            </div>
            <div class="mb-3">
                <label for="formGroupExampleInput" class="form-label">PW</label>
                <input type="password" class="form-control" id="pw" placeholder="비밀번호">
            </div>
            <div class="mb-3">
                <label for="formGroupExampleInput" class="form-label">RePW</label>
                <input type="password" class="form-control" id="repw" placeholder="비밀번호 확인">
            </div>

            <div>
                <button type="button" class="btn btn-outline-primary" onclick="join()">회원가입</button>
                <button type="button" class="btn btn-outline-dark" onclick="location.href='/'">이전</button>
            </div>
        </div>
    </div>
</body>
</html>